<!--
  Generated template for the AddComment page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
	<ion-navbar>
		<ion-title text-center class="title">添加点评</ion-title>
	</ion-navbar>
</ion-header>

<ion-content padding>
	<ion-item text-wrap>
		<ion-thumbnail item-left>
			<img [src]="getImgUrl(item.logo)" [alt]="item.name" (click)="goDetailPage(item.productId)">
		</ion-thumbnail>
		<p>{{item.name}}</p>
	</ion-item>

	<form [formGroup]="form">
		<div margin padding>
			<h2>商品质量</h2>
			<div>
				<ion-icon *ngFor="let item of stars; let i = index" [name]="item" (click)="selectStar(i)" padding-right class="star"></ion-icon>
			</div>
			<div *ngIf="comment.star === 0 && form.valid" class="error" margin-top>
				请选择商品质量
			</div>

			<h2>商品评价</h2>
			<textarea formControlName="content" class="form-control"></textarea>
			<div *ngIf="formErrors.content.length > 0" class="error" margin-top>
				<div *ngFor="let error of formErrors.content">
					{{error}}
				</div>
			</div>
		</div>
	</form>
</ion-content>

<button ion-button type="button" color="danger" block [disabled]="!form.valid || comment.star === 0" class="add" (click)="onSubmit()">提交点评</button>